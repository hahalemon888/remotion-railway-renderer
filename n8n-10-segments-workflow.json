{
  "name": "Remotion 10ç‰‡æ®µæ¸²æŸ“æµ‹è¯• (æé™å†…å­˜æ¨¡å¼)",
  "nodes": [
    {
      "parameters": {},
      "name": "æ‰‹åŠ¨è§¦å‘",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://your-app.railway.app/render",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "compositionId",
              "value": "MyVideo"
            },
            {
              "name": "inputProps",
              "value": "={\"title\": \"10ç‰‡æ®µæµ‹è¯•\", \"subtitle\": \"æé™å†…å­˜æ¨¡å¼\"}"
            },
            {
              "name": "outputFileName",
              "value": "test-10-segments.mp4"
            },
            {
              "name": "renderOptions",
              "value": "={\"scale\": 0.2, \"crf\": 40}"
            }
          ]
        },
        "options": {}
      },
      "name": "æäº¤æ¸²æŸ“ä»»åŠ¡",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [450, 300]
    },
    {
      "parameters": {
        "amount": 5,
        "unit": "seconds"
      },
      "name": "ç­‰å¾…5ç§’",
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1,
      "position": [650, 300],
      "webhookId": "wait-5s"
    },
    {
      "parameters": {
        "url": "=https://your-app.railway.app/render/{{$json[\"taskId\"]}}",
        "options": {}
      },
      "name": "æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [850, 300]
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json[\"status\"]}}",
              "operation": "equals",
              "value2": "completed"
            }
          ]
        }
      },
      "name": "æ£€æŸ¥æ˜¯å¦å®Œæˆ",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [1050, 300]
    },
    {
      "parameters": {
        "url": "={{$json[\"downloadUrl\"]}}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "file"
            }
          }
        }
      },
      "name": "ä¸‹è½½è§†é¢‘",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [1250, 200]
    },
    {
      "parameters": {
        "amount": 10,
        "unit": "seconds"
      },
      "name": "ç­‰å¾…10ç§’åé‡è¯•",
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1,
      "position": [850, 400],
      "webhookId": "wait-retry"
    },
    {
      "parameters": {
        "conditions": {
          "number": [
            {
              "value1": "={{$json[\"retryCount\"] || 0}}",
              "operation": "smaller",
              "value2": 60
            }
          ]
        }
      },
      "name": "æ£€æŸ¥é‡è¯•æ¬¡æ•°",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [1050, 400]
    },
    {
      "parameters": {
        "jsCode": "return { ...items[0].json, retryCount: (items[0].json.retryCount || 0) + 1 };"
      },
      "name": "å¢åŠ é‡è¯•è®¡æ•°",
      "type": "n8n-nodes-base.code",
      "typeVersion": 1,
      "position": [650, 500]
    },
    {
      "parameters": {
        "message": "=æ¸²æŸ“è¶…æ—¶ï¼ˆ10åˆ†é’Ÿï¼‰ï¼Œä»»åŠ¡ ID: {{$json[\"taskId\"]}}"
      },
      "name": "æ¸²æŸ“è¶…æ—¶è­¦å‘Š",
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [1250, 500]
    },
    {
      "parameters": {
        "jsCode": "return {\n  taskId: items[0].json.taskId,\n  status: items[0].json.status,\n  progress: items[0].json.progress,\n  downloadUrl: items[0].json.downloadUrl,\n  fileName: items[0].json.outputFileName,\n  message: `âœ… æ¸²æŸ“å®Œæˆï¼\\nğŸ“¹ è§†é¢‘: ${items[0].json.outputFileName}\\nğŸ”— ä¸‹è½½: ${items[0].json.downloadUrl}`\n};"
      },
      "name": "æ ¼å¼åŒ–è¾“å‡º",
      "type": "n8n-nodes-base.code",
      "typeVersion": 1,
      "position": [1450, 200]
    }
  ],
  "connections": {
    "æ‰‹åŠ¨è§¦å‘": {
      "main": [
        [
          {
            "node": "æäº¤æ¸²æŸ“ä»»åŠ¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æäº¤æ¸²æŸ“ä»»åŠ¡": {
      "main": [
        [
          {
            "node": "ç­‰å¾…5ç§’",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç­‰å¾…5ç§’": {
      "main": [
        [
          {
            "node": "æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€": {
      "main": [
        [
          {
            "node": "æ£€æŸ¥æ˜¯å¦å®Œæˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ£€æŸ¥æ˜¯å¦å®Œæˆ": {
      "main": [
        [
          {
            "node": "ä¸‹è½½è§†é¢‘",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ç­‰å¾…10ç§’åé‡è¯•",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä¸‹è½½è§†é¢‘": {
      "main": [
        [
          {
            "node": "æ ¼å¼åŒ–è¾“å‡º",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç­‰å¾…10ç§’åé‡è¯•": {
      "main": [
        [
          {
            "node": "æ£€æŸ¥é‡è¯•æ¬¡æ•°",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ£€æŸ¥é‡è¯•æ¬¡æ•°": {
      "main": [
        [
          {
            "node": "å¢åŠ é‡è¯•è®¡æ•°",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "æ¸²æŸ“è¶…æ—¶è­¦å‘Š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å¢åŠ é‡è¯•è®¡æ•°": {
      "main": [
        [
          {
            "node": "æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {},
  "staticData": null,
  "tags": [],
  "pinData": {},
  "meta": {
    "instanceId": "your-instance-id"
  }
}

